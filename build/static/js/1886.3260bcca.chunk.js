"use strict";(self.webpackChunkethan_dapp_web=self.webpackChunkethan_dapp_web||[]).push([[1886],{1886:(e,t,n)=>{n.r(t),n.d(t,{W3mEmailLoginView:()=>ue,W3mEmailVerifyDeviceView:()=>K,W3mEmailVerifyOtpView:()=>U,W3mUpdateEmailPrimaryOtpView:()=>ie,W3mUpdateEmailSecondaryOtpView:()=>re,W3mUpdateEmailWalletView:()=>te});var i,o=n(83443),r=n(6601),a=n(45558),l=n(42549),s=n(23727),c=n(93813),u=n(9684),d=n(74439),p=n(1395),h=n(46420),m=n(31602),w=n(27101),v=n(98573),f=(n(73425),n(33636),n(21072),n(44185)),g=n(99868),y=(n(39454),n(7672)),b=n(55427),E=n(15191);const x=(0,f.AH)(i||(i=(0,h.A)(["\n  :host {\n    position: relative;\n    display: inline-block;\n  }\n\n  input {\n    width: 50px;\n    height: 50px;\n    background: var(--wui-color-gray-glass-010);\n    border-radius: var(--wui-border-radius-xs);\n    border: 1px solid var(--wui-color-gray-glass-005);\n    font-family: var(--wui-font-family);\n    font-size: var(--wui-font-size-large);\n    font-weight: var(--wui-font-weight-regular);\n    letter-spacing: var(--wui-letter-spacing-large);\n    text-align: center;\n    color: var(--wui-color-fg-100);\n    caret-color: var(--wui-color-accent-100);\n    transition:\n      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);\n    will-change: background-color, border-color, box-shadow;\n    box-sizing: border-box;\n    -webkit-appearance: none;\n    -moz-appearance: textfield;\n    padding: 0px;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  input:disabled {\n    cursor: not-allowed;\n    border: 1px solid var(--wui-color-gray-glass-010);\n    background: var(--wui-color-gray-glass-005);\n  }\n\n  input:focus:enabled {\n    background-color: var(--wui-color-gray-glass-015);\n    border: 1px solid var(--wui-color-accent-100);\n    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);\n    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);\n    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    input:hover:enabled {\n      background-color: var(--wui-color-gray-glass-015);\n    }\n  }\n"])));var I,O=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let A=class extends f.WF{constructor(){super(...arguments),this.disabled=!1,this.value=""}render(){return(0,f.qy)(I||(I=(0,h.A)(['<input\n      type="number"\n      maxlength="1"\n      inputmode="numeric"\n      autofocus\n      ?disabled=',"\n      value=","\n    /> "])),this.disabled,this.value)}};var C;A.styles=[y.W5,y.fD,x],O([(0,g.MZ)({type:Boolean})],A.prototype,"disabled",void 0),O([(0,g.MZ)({type:String})],A.prototype,"value",void 0),A=O([(0,E.E)("wui-input-numeric")],A);const k=(0,f.AH)(C||(C=(0,h.A)(["\n  :host {\n    position: relative;\n    display: block;\n  }\n"])));var R,T,S=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let P=class extends f.WF{constructor(){super(...arguments),this.length=6,this.otp="",this.values=Array.from({length:this.length}).map((()=>"")),this.numerics=[],this.shouldInputBeEnabled=e=>this.values.slice(0,e).every((e=>""!==e)),this.handleKeyDown=(e,t)=>{const n=e.target,i=this.getInputElement(n);if(!i)return;["ArrowLeft","ArrowRight","Shift","Delete"].includes(e.key)&&e.preventDefault();const o=i.selectionStart;switch(e.key){case"ArrowLeft":o&&i.setSelectionRange(o+1,o+1),this.focusInputField("prev",t);break;case"ArrowRight":case"Shift":this.focusInputField("next",t);break;case"Delete":case"Backspace":""===i.value?this.focusInputField("prev",t):this.updateInput(i,t,"")}},this.focusInputField=(e,t)=>{if("next"===e){const e=t+1;if(!this.shouldInputBeEnabled(e))return;const n=this.numerics[e<this.length?e:t],i=n?this.getInputElement(n):void 0;i&&(i.disabled=!1,i.focus())}if("prev"===e){const e=t-1,n=this.numerics[e>-1?e:t],i=n?this.getInputElement(n):void 0;i&&i.focus()}}}firstUpdated(){var e,t;this.otp&&(this.values=this.otp.split(""));const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelectorAll("wui-input-numeric");n&&(this.numerics=Array.from(n)),null===(t=this.numerics[0])||void 0===t||t.focus()}render(){return(0,f.qy)(R||(R=(0,h.A)(['\n      <wui-flex gap="xxs" data-testid="wui-otp-input">\n        ',"\n      </wui-flex>\n    "])),Array.from({length:this.length}).map(((e,t)=>(0,f.qy)(T||(T=(0,h.A)(["\n            <wui-input-numeric\n              @input=","\n              @click=","\n              @keydown=","\n              .disabled=","\n              .value=","\n            >\n            </wui-input-numeric>\n          "])),(e=>this.handleInput(e,t)),(e=>this.selectInput(e)),(e=>this.handleKeyDown(e,t)),!this.shouldInputBeEnabled(t),this.values[t]||""))))}updateInput(e,t,n){const i=this.numerics[t],o=e||(i?this.getInputElement(i):void 0);o&&(o.value=n,this.values=this.values.map(((e,i)=>i===t?n:e)))}selectInput(e){const t=e.target;if(t){const e=this.getInputElement(t);null===e||void 0===e||e.select()}}handleInput(e,t){const n=e.target,i=this.getInputElement(n);if(i){const n=i.value;if("insertFromPaste"===e.inputType)this.handlePaste(i,n,t);else{b.Z.isNumber(n)&&e.data?(this.updateInput(i,t,e.data),this.focusInputField("next",t)):this.updateInput(i,t,"")}}this.dispatchInputChangeEvent()}handlePaste(e,t,n){const i=t[0];if(i&&b.Z.isNumber(i)){this.updateInput(e,n,i);const o=t.substring(1);if(n+1<this.length&&o.length){const e=this.numerics[n+1],t=e?this.getInputElement(e):void 0;t&&this.handlePaste(t,o,n+1)}else this.focusInputField("next",n)}else this.updateInput(e,n,"")}getInputElement(e){var t;return null!==(t=e.shadowRoot)&&void 0!==t&&t.querySelector("input")?e.shadowRoot.querySelector("input"):null}dispatchInputChangeEvent(){const e=this.values.join("");this.dispatchEvent(new CustomEvent("inputChange",{detail:e,bubbles:!0,composed:!0}))}};P.styles=[y.W5,k],S([(0,g.MZ)({type:Number})],P.prototype,"length",void 0),S([(0,g.MZ)({type:String})],P.prototype,"otp",void 0),S([(0,g.wk)()],P.prototype,"values",void 0),P=S([(0,E.E)("wui-otp")],P);n(95205);var D,_=n(45501);const F=(0,m.AH)(D||(D=(0,h.A)(["\n  wui-loading-spinner {\n    margin: 9px auto;\n  }\n\n  .email-display,\n  .email-display wui-text {\n    max-width: 100%;\n  }\n"])));var j,L,V,N,M=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let W=class extends m.WF{firstUpdated(){this.startOTPTimeout()}disconnectedCallback(){clearTimeout(this.OTPTimeout)}constructor(){var e;super(),this.loading=!1,this.timeoutTimeLeft=_.Q.getTimeToNextEmailLogin(),this.error="",this.otp="",this.email=null===(e=c.I.state.data)||void 0===e?void 0:e.email,this.authConnector=v.a.getAuthConnector()}render(){if(!this.email)throw new Error("w3m-email-otp-widget: No email provided");const e=Boolean(this.timeoutTimeLeft),t=this.getFooterLabels(e);return(0,m.qy)(j||(j=(0,h.A)(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        .padding=','\n        gap="l"\n      >\n        <wui-flex\n          class="email-display"\n          flexDirection="column"\n          alignItems="center"\n          .padding=','\n        >\n          <wui-text variant="paragraph-400" color="fg-100" align="center">\n            Enter the code we sent to\n          </wui-text>\n          <wui-text variant="paragraph-500" color="fg-100" lineClamp="1" align="center">\n            ','\n          </wui-text>\n        </wui-flex>\n\n        <wui-text variant="small-400" color="fg-200">The code expires in 20 minutes</wui-text>\n\n        ','\n\n        <wui-flex alignItems="center" gap="xs">\n          <wui-text variant="small-400" color="fg-200">',"</wui-text>\n          <wui-link @click="," .disabled=",">\n            ","\n          </wui-link>\n        </wui-flex>\n      </wui-flex>\n    "])),["l","0","l","0"],["0","xl","0","xl"],this.email,this.loading?(0,m.qy)(L||(L=(0,h.A)(['<wui-loading-spinner size="xl" color="accent-100"></wui-loading-spinner>']))):(0,m.qy)(V||(V=(0,h.A)([' <wui-flex flexDirection="column" alignItems="center" gap="xs">\n              <wui-otp\n                dissabled\n                length="6"\n                @inputChange=',"\n                .otp=","\n              ></wui-otp>\n              ","\n            </wui-flex>"])),this.onOtpInputChange.bind(this),this.otp,this.error?(0,m.qy)(N||(N=(0,h.A)(['\n                    <wui-text variant="small-400" align="center" color="error-100">\n                      ',". Try Again\n                    </wui-text>\n                  "])),this.error):null),t.title,this.onResendCode.bind(this),e,t.action)}startOTPTimeout(){this.timeoutTimeLeft=_.Q.getTimeToNextEmailLogin(),this.OTPTimeout=setInterval((()=>{this.timeoutTimeLeft>0?this.timeoutTimeLeft=_.Q.getTimeToNextEmailLogin():clearInterval(this.OTPTimeout)}),1e3)}async onOtpInputChange(e){try{var t;if(!this.loading)if(this.otp=e.detail,this.authConnector&&6===this.otp.length)this.loading=!0,await(null===(t=this.onOtpSubmit)||void 0===t?void 0:t.call(this,this.otp))}catch(n){this.error=d.w.parseError(n),this.loading=!1}}async onResendCode(){try{if(this.onOtpResend){if(!this.loading&&!this.timeoutTimeLeft){this.error="",this.otp="";if(!v.a.getAuthConnector()||!this.email)throw new Error("w3m-email-otp-widget: Unable to resend email");this.loading=!0,await this.onOtpResend(this.email),this.startOTPTimeout(),u.P.showSuccess("Code email resent")}}else this.onStartOver&&this.onStartOver()}catch(e){u.P.showError(e)}finally{this.loading=!1}}getFooterLabels(e){return this.onStartOver?{title:"Something wrong?",action:"Try again ".concat(e?"in ".concat(this.timeoutTimeLeft,"s"):"")}:{title:"Didn't receive it?",action:"Resend ".concat(e?"in ".concat(this.timeoutTimeLeft,"s"):"Code")}}};W.styles=F,M([(0,w.wk)()],W.prototype,"loading",void 0),M([(0,w.wk)()],W.prototype,"timeoutTimeLeft",void 0),M([(0,w.wk)()],W.prototype,"error",void 0),W=M([(0,p.EM)("w3m-email-otp-widget")],W);var q=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let U=class extends W{constructor(){super(...arguments),this.onOtpSubmit=async e=>{try{if(this.authConnector){var t;const n=o.W.state.activeChain,i=r.x.getConnections(n),d=null===(t=a.H.state.remoteFeatures)||void 0===t?void 0:t.multiWallet,p=i.length>0;if(await this.authConnector.provider.connectOtp({otp:e}),l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),!n)throw new Error("Active chain is not set on ChainControll");await r.x.connectExternal(this.authConnector,n),l.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"email",name:this.authConnector.name||"Unknown"}}),a.H.state.siwx?s.W.close():p&&d?(c.I.replace("ProfileWallets"),u.P.showSuccess("New Wallet Added")):s.W.close()}}catch(n){throw l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:d.w.parseError(n)}}),n}},this.onOtpResend=async e=>{this.authConnector&&(await this.authConnector.provider.connectEmail({email:e}),l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}))}}};U=q([(0,p.EM)("w3m-email-verify-otp-view")],U);var z;n(90019);const H=(0,m.AH)(z||(z=(0,h.A)(["\n  wui-icon-box {\n    height: var(--wui-icon-box-size-xl);\n    width: var(--wui-icon-box-size-xl);\n  }\n"])));var Z,B=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let K=class extends m.WF{constructor(){var e;super(),this.email=null===(e=c.I.state.data)||void 0===e?void 0:e.email,this.authConnector=v.a.getAuthConnector(),this.loading=!1,this.listenForDeviceApproval()}render(){if(!this.email)throw new Error("w3m-email-verify-device-view: No email provided");if(!this.authConnector)throw new Error("w3m-email-verify-device-view: No auth connector provided");return(0,m.qy)(Z||(Z=(0,h.A)(['\n      <wui-flex\n        flexDirection="column"\n        alignItems="center"\n        .padding=','\n        gap="l"\n      >\n        <wui-icon-box\n          size="xl"\n          iconcolor="accent-100"\n          backgroundcolor="accent-100"\n          icon="verify"\n          background="opaque"\n        ></wui-icon-box>\n\n        <wui-flex flexDirection="column" alignItems="center" gap="s">\n          <wui-flex flexDirection="column" alignItems="center">\n            <wui-text variant="paragraph-400" color="fg-100">\n              Approve the login link we sent to\n            </wui-text>\n            <wui-text variant="paragraph-400" color="fg-100"><b>','</b></wui-text>\n          </wui-flex>\n\n          <wui-text variant="small-400" color="fg-200" align="center">\n            The code expires in 20 minutes\n          </wui-text>\n\n          <wui-flex alignItems="center" id="w3m-resend-section" gap="xs">\n            <wui-text variant="small-400" color="fg-100" align="center">\n              Didn\'t receive it?\n            </wui-text>\n            <wui-link @click='," .disabled=",">\n              Resend email\n            </wui-link>\n          </wui-flex>\n        </wui-flex>\n      </wui-flex>\n    "])),["xxl","s","xxl","s"],this.email,this.onResendCode.bind(this),this.loading)}async listenForDeviceApproval(){if(this.authConnector)try{await this.authConnector.provider.connectDevice(),l.E.sendEvent({type:"track",event:"DEVICE_REGISTERED_FOR_EMAIL"}),l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),c.I.replace("EmailVerifyOtp",{email:this.email})}catch(e){c.I.goBack()}}async onResendCode(){try{if(!this.loading){if(!this.authConnector||!this.email)throw new Error("w3m-email-login-widget: Unable to resend email");this.loading=!0,await this.authConnector.provider.connectEmail({email:this.email}),this.listenForDeviceApproval(),u.P.showSuccess("Code email resent")}}catch(e){u.P.showError(e)}finally{this.loading=!1}}};K.styles=H,B([(0,w.wk)()],K.prototype,"loading",void 0),K=B([(0,p.EM)("w3m-email-verify-device-view")],K);var Q,Y=n(7049);n(79750),n(57055);const G=(0,m.AH)(Q||(Q=(0,h.A)(["\n  wui-email-input {\n    width: 100%;\n  }\n\n  form {\n    width: 100%;\n    display: block;\n    position: relative;\n  }\n"])));var J,X,$,ee=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let te=class extends m.WF{constructor(){var e,t,n;super(...arguments),this.formRef=(0,Y._)(),this.initialEmail=null!==(e=null===(t=c.I.state.data)||void 0===t?void 0:t.email)&&void 0!==e?e:"",this.redirectView=null===(n=c.I.state.data)||void 0===n?void 0:n.redirectView,this.email="",this.loading=!1}firstUpdated(){var e;null===(e=this.formRef.value)||void 0===e||e.addEventListener("keydown",(e=>{"Enter"===e.key&&this.onSubmitEmail(e)}))}render(){return(0,m.qy)(J||(J=(0,h.A)(['\n      <wui-flex flexDirection="column" padding="m" gap="m">\n        <form '," @submit=",">\n          <wui-email-input\n            value=","\n            .disabled=","\n            @inputChange=",'\n          >\n          </wui-email-input>\n          <input type="submit" hidden />\n        </form>\n        ',"\n      </wui-flex>\n    "])),(0,Y.K)(this.formRef),this.onSubmitEmail.bind(this),this.initialEmail,this.loading,this.onEmailInputChange.bind(this),this.buttonsTemplate())}onEmailInputChange(e){this.email=e.detail}async onSubmitEmail(e){try{if(this.loading)return;this.loading=!0,e.preventDefault();const t=v.a.getAuthConnector();if(!t)throw new Error("w3m-update-email-wallet: Auth connector not found");const n=await t.provider.updateEmail({email:this.email});l.E.sendEvent({type:"track",event:"EMAIL_EDIT"}),"VERIFY_SECONDARY_OTP"===n.action?c.I.push("UpdateEmailSecondaryOtp",{email:this.initialEmail,newEmail:this.email,redirectView:this.redirectView}):c.I.push("UpdateEmailPrimaryOtp",{email:this.initialEmail,newEmail:this.email,redirectView:this.redirectView})}catch(t){u.P.showError(t),this.loading=!1}}buttonsTemplate(){const e=!this.loading&&this.email.length>3&&this.email!==this.initialEmail;return this.redirectView?(0,m.qy)($||($=(0,h.A)(['\n      <wui-flex gap="s">\n        <wui-button size="md" variant="neutral" fullWidth @click=','>\n          Cancel\n        </wui-button>\n\n        <wui-button\n          size="md"\n          variant="main"\n          fullWidth\n          @click=',"\n          .disabled=","\n          .loading=","\n        >\n          Save\n        </wui-button>\n      </wui-flex>\n    "])),c.I.goBack,this.onSubmitEmail.bind(this),!e,this.loading):(0,m.qy)(X||(X=(0,h.A)(['\n        <wui-button\n          size="md"\n          variant="main"\n          fullWidth\n          @click=',"\n          .disabled=","\n          .loading=","\n        >\n          Save\n        </wui-button>\n      "])),this.onSubmitEmail.bind(this),!e,this.loading)}};te.styles=G,ee([(0,w.wk)()],te.prototype,"email",void 0),ee([(0,w.wk)()],te.prototype,"loading",void 0),te=ee([(0,p.EM)("w3m-update-email-wallet-view")],te);var ne=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let ie=class extends W{constructor(){var e;super(),this.email=null===(e=c.I.state.data)||void 0===e?void 0:e.email,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailPrimaryOtp({otp:e}),l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),c.I.replace("UpdateEmailSecondaryOtp",c.I.state.data))}catch(t){throw l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:d.w.parseError(t)}}),t}},this.onStartOver=()=>{c.I.replace("UpdateEmailWallet",c.I.state.data)}}};ie=ne([(0,p.EM)("w3m-update-email-primary-otp-view")],ie);var oe=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let re=class extends W{constructor(){var e,t;super(),this.email=null===(e=c.I.state.data)||void 0===e?void 0:e.newEmail,this.redirectView=null===(t=c.I.state.data)||void 0===t?void 0:t.redirectView,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailSecondaryOtp({otp:e}),l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),this.redirectView&&c.I.reset(this.redirectView))}catch(t){throw l.E.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:d.w.parseError(t)}}),t}},this.onStartOver=()=>{c.I.replace("UpdateEmailWallet",c.I.state.data)}}};re=oe([(0,p.EM)("w3m-update-email-secondary-otp-view")],re);var ae,le=n(37909),se=n(28309),ce=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let ue=class extends m.WF{constructor(){var e;super(),this.authConnector=v.a.getAuthConnector(),this.isEmailEnabled=null===(e=a.H.state.remoteFeatures)||void 0===e?void 0:e.email,this.isAuthEnabled=this.checkIfAuthEnabled(v.a.state.connectors),this.connectors=v.a.state.connectors,v.a.subscribeKey("connectors",(e=>{this.connectors=e,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)}))}render(){if(!this.isEmailEnabled)throw new Error("w3m-email-login-view: Email is not enabled");if(!this.isAuthEnabled)throw new Error("w3m-email-login-view: No auth connector provided");return(0,m.qy)(ae||(ae=(0,h.A)(['<wui-flex\n      flexDirection="column"\n      .padding=','\n      gap="l"\n    >\n      <w3m-email-login-widget></w3m-email-login-widget>\n    </wui-flex> '])),["3xs","m","m","m"])}checkIfAuthEnabled(e){const t=e.filter((e=>e.type===se.o.CONNECTOR_TYPE_AUTH)).map((e=>e.chain));return le.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.some((e=>t.includes(e)))}};ce([(0,w.wk)()],ue.prototype,"connectors",void 0),ue=ce([(0,p.EM)("w3m-email-login-view")],ue)},57055:(e,t,n)=>{var i,o=n(46420),r=n(44185),a=n(99868),l=n(35999),s=(n(51396),n(7672)),c=n(15191);n(48649);const u=(0,r.AH)(i||(i=(0,o.A)(["\n  :host {\n    position: relative;\n    display: inline-block;\n  }\n\n  wui-text {\n    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);\n  }\n"])));var d,p,h=function(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};let m=class extends r.WF{constructor(){super(...arguments),this.disabled=!1}render(){return(0,r.qy)(d||(d=(0,o.A)(['\n      <wui-input-text\n        type="email"\n        placeholder="Email"\n        icon="mail"\n        size="mdl"\n        .disabled=',"\n        .value=",'\n        data-testid="wui-email-input"\n        tabIdx=',"\n      ></wui-input-text>\n      ","\n    "])),this.disabled,this.value,(0,l.J)(this.tabIdx),this.templateError())}templateError(){return this.errorMessage?(0,r.qy)(p||(p=(0,o.A)(['<wui-text variant="tiny-500" color="error-100">',"</wui-text>"])),this.errorMessage):null}};m.styles=[s.W5,u],h([(0,a.MZ)()],m.prototype,"errorMessage",void 0),h([(0,a.MZ)({type:Boolean})],m.prototype,"disabled",void 0),h([(0,a.MZ)()],m.prototype,"value",void 0),h([(0,a.MZ)()],m.prototype,"tabIdx",void 0),m=h([(0,c.E)("wui-email-input")],m)},21072:(e,t,n)=>{n(55967)}}]);
//# sourceMappingURL=1886.3260bcca.chunk.js.map